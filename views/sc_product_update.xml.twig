{% spaceless %}
{% set BRAND_FIELD = constant('\App\Marketplace\Jumia\Model\Product::SC_PRODUCT_BRAND') %}
{% set VARIATION_FIELD = constant('\App\Marketplace\Jumia\Model\Product::SC_PRODUCT_VARIATION') %}
{% set COLOR_FIELD = constant('\App\Marketplace\Jumia\Model\Product::SC_PRODUCT_COLOR') %}

<?xml version="1.0" encoding="UTF-8" ?>
<Request>
    {% for product in products %}
        {# @var product \\SellerCenter\Model\Product #}
        <Product>
            <SellerSku>{{ product.sellerSku }}</SellerSku>
            {% if BRAND_FIELD in extraFields %}
                <Brand>{{ product.brand }}</Brand>
            {% endif %}
            {% if VARIATION_FIELD in extraFields and product.variation is not empty%}
                <Variation>{{ product.variation }}</Variation>
            {% endif %}

            {% if COLOR_FIELD in extraFields and product.color is not empty%}
                <ProductData>
                    <Color>{{ product.color }}</Color>
                </ProductData>
            {% endif %}

            <Status>{{ product.status }}</Status>
            <Price>{{ product.price }}</Price>

            {% if product.salePrice is not empty and product.saleEndDate is not empty and product.saleStartDate is not empty %}
                <SalePrice>{{ product.salePrice }}</SalePrice>
                <SaleStartDate>{{ product.saleStartDate }}</SaleStartDate>
                <SaleEndDate>{{ product.saleEndDate }}</SaleEndDate>
            {% endif %}

            {% if product.quantity is not empty %}
                <Quantity>{{ product.quantity }}</Quantity>
            {% endif %}
        </Product>
    {% endfor %}
</Request>
{% endspaceless %}